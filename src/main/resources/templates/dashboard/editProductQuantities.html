<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- ... (head content) ... -->
</head>

<body>
    <div class="container">
        <h2>Edit Product Quantities</h2>
        <form action="/inventorybilling/updateProductQuantities" method="post" th:object="${product}">
            <h3>Product Name: <span th:text="${product.brandName}"></span></h3>
            <table>
                <thead>
                    <tr>
                        <th>Warehouse ID</th>
                        <th>Warehouse Name</th>
                        <th>Warehouse Code</th>
                        <th>Quantity</th>
                        <th>New Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Iterate through the list of warehouses -->
                    <tr th:each="warehouse : ${warehouses}">
                        <td th:text="${warehouse.wareId}"></td>
                        <td th:text="${warehouse.wareName}"></td>
                        <td th:text="${warehouse.wareCode}"></td>
                        <td>
							<!-- Display the current quantity from the warehouseQuantities map -->
							<span th:text="${product.warehouseQuantities[warehouse.wareId]}"></span>
						</td>
						<td>
							<!-- Add an input field to edit the new quantity -->
							<input type="number" th:field="*{warehouseQuantities[__${warehouse.wareId}__]}" />
						</td>
                    </tr>
                </tbody>
            </table>
            <!-- Add a hidden input field for the productId -->
            <input type="hidden" th:field="*{productId}" />
            <!-- Add a save button to submit the form -->
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
        <!-- Add a home button to navigate back to product details -->
        <a href="/inventorybilling/showLanding" class="btn btn-secondary">Home</a>
    </div>
</body>

</html>
